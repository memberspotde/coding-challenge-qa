<div class="flex justify-between">
  <h1 mat-dialog-title class="text-gray-600">Create Thumbnail</h1>
  <button mat-icon-button class="p-4">
    <mat-icon>close</mat-icon>
  </button>
</div>
<div mat-dialog-content class="text-gray-600">
  <form [formGroup]="form" class="flex flex-col">
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input type="text" formControlName="name" placeholder="Name" matInput />
      <mat-error>Name Missing</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Description</mat-label>
      <textarea
        formControlName="description"
        placeholder="Description"
        matInput
      ></textarea>
    </mat-form-field>

    @if (isNew) {
    <mat-form-field (click)="f_input.click()">
      <mat-label>Image File</mat-label>
      <button mat-icon-button matPrefix (click)="f_input.click()">
        <mat-icon>attach_file</mat-icon>
      </button>
      <input type="text" matInput readonly formControlName="fileName" />
      <input type="file" hidden #f_input (change)="onFileSelected($event)" />
      <mat-error>Image File is Required</mat-error>
    </mat-form-field>
    } @else {
    <input
      #fileName
      type="text"
      matInput
      readonly
      formControlName="fileName"
      hidden
    />
    <a
      [href]="fileName.value"
      target="_blank"
      class="overflow-hidden text-blue-500"
    >
      {{ fileName.value }}
    </a>
    }
  </form>
</div>
<div mat-dialog-actions class="flex justify-end gap-4 p-4">
  <button mat-button [disabled]="form.invalid" type="button" (click)="onSave()">
    Save
  </button>
  <button mat-button (click)="onNoClick()">Cancel</button>
</div>
